<h2>Передача файлов по сети в .NET</h2>
<p>Date: 09.01.2019 17:19:07</p>
<div>
Слишко&#1084; сложно. Если ваша цель - передать строку, вы должны создать на основе NetworkStream объект BinaryWriter и передать на вход его &#1084;етода Write строку. На прини&#1084;ающей стороне создать объект BinaryReader и вызвать его &#1084;етод ReadString.
 Аналогично для других типов. В итоге код должен получиться раза в 3 проще, и пробле&#1084;а с неполной передачей строк отпадет.
</div>
<h2>Message 314</h2>
<p>Date: 09.01.2019 19:10:13</p>
<div>
<p>Файлы, разу&#1084;еется, не нужно передавать через строки. Корректный алгорит&#1084; передачи файла выглядит как-то так:</p>
<p>Передача</p>
<p>1. Передать раз&#1084;ер файла</p>
<p>2. Передать содержи&#1084;ое файла (без разницы как, но предпочтительно не очень больши&#1084;и порция&#1084;и, чтобы не упасть из-за нехватки па&#1084;яти)</p>
<p>Прие&#1084;</p>
<p>1. Получить раз&#1084;ер файла</p>
<p>2. В цикле, считывать в буфер определенное количество байт и сразу записывать его в файл.</p>
<p>3. Прервать цикл, когда считано необходи&#1084;ое количество байт, или когда Read вернул 0 (последнее означает преждевре&#1084;енный разрыв соединения).</p>
<p><br/>
</p>
</div>
<h2>Message 313</h2>
<p>Date: 09.01.2019 19:11:38</p>
<div>
<p>&quot;<span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px"><em>А раз файлы будут передаваться через &#1084;ассив байт, то нет с&#1084;ысла передавать строки. Проще передавать &#1084;ассивы
 байт и переводить их в строки на стороне клиента. Ведь так?</em></span>&quot;</p>
<p>Нет, строки нужно передавать и&#1084;енно &quot;через строки&quot;. Что заставляет вас ду&#1084;ать иначе?&nbsp;</p>
</div>
<h2>Message 312</h2>
<p>Date: 10.01.2019 3:05:42</p>
<div>
Если файлы передаются не целико&#1084;, а отдельны&#1084;и блока&#1084;и, ва&#1084; нужно при&#1084;енить тот же алгорит&#1084;, но не к цело&#1084;у файлу, а к его блока&#1084;. В остально&#1084; суть не &#1084;еняется, должно быть циклическое считывание
 и соединение полученных &#1084;ассивов, пока не наберется полный блок. А не просто, &quot;один раз прочитали, если пришло &#1084;ало - упали с ошибкой&quot;, этот подход некорректен.
</div>

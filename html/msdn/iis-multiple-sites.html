<html><head><title>Несколько сайтов на одном IP-адресе и порту в IIS</title></head><body>
<p><a href="index.html">Ответы с форумов MSDN</a></p>
<h2>Несколько сайтов на одном IP-адресе и порту в IIS</h2>
<p>Date: 30.05.2017 17:17:18</p>
<div>
<p>Так HTTPS или свой протокол поверх TCP&#43;SSL?&nbsp;В &#1084;ое&#1084; представлении, дело обстоит как-то так:</p>
<p>В протоколе TCP, конечная точка однозначно определяется IP-адресо&#1084; и но&#1084;еро&#1084; порта. Соответственно, несколько програ&#1084;&#1084; &#1084;огут вполне успешно слушать один и тот же TCP-порт, если у &#1084;ашины есть несколько IP-адресов.
 Однако, первая подключающаяся програ&#1084;&#1084;а &#1084;ожет запросить &#1084;онопольный доступ на порт, тогда последующие попытки подключения к не&#1084;у будут выдавать ошибку. С&#1084;.&nbsp;<a href="https://msdn.microsoft.com/ru-ru/library/system.net.sockets.tcplistener.exclusiveaddressuse(v=vs.110).aspx">TcpListener.ExclusiveAddressUse</a>.&nbsp;</p>
<p>Если же используется HTTPS, то добавляется еще одна пере&#1084;енная: и&#1084;я узла, которое передается в HTTP-заголовке. IIS, начиная с некоторой версии, позволяет привязывать несколько сайтов к одной паре&nbsp;(IP адрес; порт), разграничивая трафик на
 основе и&#1084;ени узла.&nbsp;</p>
<p><br/>
</p>
</div>
<h2>Message 790</h2>
<p>Date: 31.05.2017 13:50:26</p>
<div>
<p>Тогда ва&#1084; нужно переделать вашу програ&#1084;&#1084;у в ASMX или WCF сервис, создать в IIS отдельный сайт с други&#1084; и&#1084;ене&#1084; узла, и раз&#1084;естить в не&#1084; службу. Тогда основной сайт и сервис будут на одно&#1084; и то&#1084; же
 IP и порту, а запросы будут разграничиваться на основе и&#1084;ени узла. Са&#1084;о собой, для &#1084;ашины в DNS/WINS должно быть прописано несколько и&#1084;ен, чтобы это работало.&nbsp;</p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">&quot;<em>IP-адрес один.</em>&quot;</span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">Но &#1084;ожно же прописать дополнительные в настройках адаптера.</span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px"></span></p>
</div>

<hr/><p>Автор: <a href="https://smallsoft2.blogspot.com">VadimTagil</a></p>
<p><a href="https://msdn-whiteknight.github.io/answers/html/">Главная страница</a> - <a href="index.html">Список тем</a> - <a href="https://github.com/MSDN-WhiteKnight/answers">Репозиторий на GitHub</a></p>
</body></html>

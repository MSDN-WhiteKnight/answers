<html><head><title>Редактирование элементов TreeView в ASP.NET</title></head><body>
<p><a href="index.html">Ответы с форумов MSDN</a></p>
<h2>Редактирование элементов TreeView в ASP.NET</h2>
<p>Date: 28.07.2017 5:52:19</p>
<div>
<p>Стандартный TreeView не заточен под редактирование на клиенте. С ни&#1084; только &#1084;ожно сделать как-то так</p>
<p>- положить на страницу невиди&#1084;ый TextBox</p>
<p>- при выборе эле&#1084;ента в TreeView сделать TextBox види&#1084;ы&#1084;</p>
<p>- JS-скрипто&#1084; запихать его в нужную ячейку TreeView (он рендерится в HTML как таблица), скрыть исходный эле&#1084;ент</p>
<p>- при потере фокуса TextBox сохранить новое значение и все вернуть назад</p>
<p>Чтобы нор&#1084;альное клиентское редактирование сделать, наверное надо взять с CodeProject&nbsp;<a href="https://www.codeproject.com/Articles/31577/WebControls/WebControls/">ASP.NET AJAX TreeView control with templates</a>, он поддерживает режи&#1084; редактирования.</p>
</div>
<h2>Message 717</h2>
<p>Date: 29.07.2017 11:53:24</p>
<div>
<p>Статья по ссылке написана в 2005 году, и соответствует версии ASP.NET 1.0. Она &#1084;огла устареть в техническо&#1084; плане (используе&#1084;ые идеи, конечно, все еще при&#1084;ени&#1084;ы, но буквальный код &#1084;ожет не работать). Для организации обработки
 событий на клиенте, следует пони&#1084;ать следующее:</p>
<ul>
<li>Вы &#1084;ожете получить клиентский идентификатор большинства ASP.NET-эле&#1084;ентов в JS коде с по&#1084;ощью вставки &nbsp;&lt;?=myControl.ClientID ?&gt; (ну по крайней &#1084;ере это в C# так, не знаю как в VB синтаксис выглядит). В крайне&#1084; случае,
 &#1084;ожно врубить ClientIdMode=Static и зашить в коде жесткий ID &nbsp;</li><li>По клиентско&#1084;у идентификатору, с по&#1084;ощью document.GetElementById, &#1084;ожно получить са&#1084; объект. Инфор&#1084;ацию о то&#1084;, что у&#1084;еет этот объект, &#1084;ожно узнать в доку&#1084;ентации, скаже&#1084;, на сайте&nbsp;w3schools.com.
 Напри&#1084;ер TreeView в HTML это <a href="https://www.w3schools.com/tags/tag_table.asp">
Table</a>, который и&#1084;еет событие&nbsp;<a href="https://www.w3schools.com/tags/ev_ondblclick.asp">ondblclick</a>.</li><li>Чтобы запланировать запуск определенного клиентского сценария, &#1084;ожно использовать свойство&nbsp;<em>Page.ClientScript</em>. Оно возвращает объект ClientScriptManager, у которого есть &#1084;етод&nbsp;<em>RegisterStartupScript</em>.&nbsp;</li><li>Если от клиентского скрипта нужно перейти к обработки на сервере, &#1084;ожно вызвать в JS функцию&nbsp;<em>__doPostBack(&quot;clientId&quot;, null).
</em>Она вызовет отправку страницы на сервер, как будто была нажата кнопка с указанны&#1084; ClientId.</li><li>Для об&#1084;ена инфор&#1084;ацией &#1084;ежду серверны&#1084; и клиентски&#1084; кодо&#1084; удобно использовать HiddenField.</li></ul>
<p>Используя эти принципы, &#1084;ожно реализовать то что вы хотите, ко&#1084;бинируя серверный и клиентский код. На страндартно&#1084; TreeView это сложновато, но воз&#1084;ожно.</p>
<p></p>
</div>
<h2>Message 709</h2>
<p>Date: 03.08.2017 6:04:52</p>
<div>
Попробуйте у всех TreeNode установить SelectAction=<strong style="color:#2a2a2a; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:13px">TreeNodeSelectAction.None</strong>, должно отключить авто&#1084;атический postback.
</div>
<h2>Message 706</h2>
<p>Date: 11.08.2017 16:18:03</p>
<div>
Конкретно для Literal, внезапно, это невоз&#1084;ожно. Literal не является отдельны&#1084; эле&#1084;енто&#1084; в HTML, он просто вставляет свой текст в страницу как есть. Используйте Label, у него &#1084;ожно добавить обработчик через коллекцию label.Attributes
</div>

<hr/><p>Автор: <a href="https://smallsoft2.blogspot.com">VadimTagil</a></p>
<p><a href="https://msdn-whiteknight.github.io/answers/html/">Главная страница</a> - <a href="index.html">Список тем</a> - <a href="https://github.com/MSDN-WhiteKnight/answers">Репозиторий на GitHub</a></p>
</body></html>

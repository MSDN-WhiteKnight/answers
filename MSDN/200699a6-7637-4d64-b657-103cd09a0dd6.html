<h2>Message 661</h2>
<p>Date: 01.10.2017 10:25:23</p>
<div>
Не знаю в че&#1084; с&#1084;ысл всего этого, но это не работает. Для преобразования String в &#1084;ассив си&#1084;волов нужно использовать Marshal::StringToHGlobalAnsi или
<a href="https://msdn.microsoft.com/ru-ru/library/system.runtime.interopservices.marshal.stringtohglobaluni(v=vs.110).aspx">
Marshal::StringToHGlobalUni</a>, а не циклы
</div>
<h2>Message 660</h2>
<p>Date: 01.10.2017 15:23:00</p>
<div>
<p>&quot;<em>Все работает, но только на английско&#1084; языке</em>&quot;</p>
<p>Оно работает с английски&#1084;и си&#1084;вола&#1084;и только из-за того, что&nbsp;их коды во всех кодировках одинаковы.</p>
<p>&quot;<em>&#1084;ожет Вы подскажете как это сделать</em>&quot;</p>
<p>Нет, так как непонятно, что вы пытаетесь сделать.&nbsp;Я уже написал, каки&#1084;и &#1084;етода&#1084;и делается преобразование управляе&#1084;ой строки в &#1084;ассив (второй из них корректно обрабатывает любые си&#1084;волы). Если все делать правильно,
 никакой пробле&#1084;ы с кодировкой не будет.</p>
<p></p>
</div>
<h2>Message 659</h2>
<p>Date: 01.10.2017 16:04:05</p>
<div>
<div>
<p>UTF8 - &#1084;ультибайтовая кодировка, она для таких вещей не очень. Сдается &#1084;не, ва&#1084; нужен все-таки UTF-16 и тип wchar_t. Как-то так сделайте</p>
<pre class="prettyprint">wchar_t* a=(wchar_t*)Marshal::StringToHGlobalUni(str);
wchar_t* b=(wchar_t*)Marshal::StringToHGlobalUni(str2);
wchar_t d[10000];

//работае&#1084; с &#1084;ассива&#1084;и a и b, записывае&#1084; результат в d

stro=gcnew String(d,0,wcslen(d));

Marshal::FreeHGlobal((IntPtr)a);
Marshal::FreeHGlobal((IntPtr)b);</pre>
<br/>
<p></p>
</div>
</div>

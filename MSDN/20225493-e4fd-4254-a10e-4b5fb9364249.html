<h2>Message 407</h2>
<p>Date: 29.07.2018 19:44:05</p>
<div>
Ошибка в то&#1084;, что вы рисуете в объекте Graphics, полученно&#1084; с по&#1084;ощью Form.CreateGraphics. В&#1084;есто этого нужно получать объект&nbsp;Graphics либо из аргу&#1084;ентов события Paint (для фор&#1084;ы), либо с по&#1084;ощью Graphics.FromImage
 (для картинки из PictureBox), и рисовать в них.&nbsp;
</div>
<h2>Message 406</h2>
<p>Date: 30.07.2018 17:08:12</p>
<div>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">&quot;<em> и если дать новое и&#1084;я, а не и&#1084;я существующего файла кидает исключение</em>&quot;</span><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px"></span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">Попробуйте установить saveFileDialog.</span><a href="https://msdn.microsoft.com/ru-ru/library/system.windows.forms.filedialog.checkfileexists(v=vs.110).aspx" style="color:#00709f; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:13px"><span>CheckFileExists</span></a><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">
 в false.</span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">&quot;<em>Вылетает при щелчке на &quot;От&#1084;ена&quot;&nbsp; Не обрабатывае&#1084;ое исключение в приложении Платфор&#1084;ы .NET Framework:
 &quot;Путь и&#1084;еет недопусти&#1084;ую фор&#1084;у&quot;.</em>&quot;</span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">Сделайте проверку, если ShowDialog возвращает DialogResult.Cancel, не идите дальше (исключение возникает, так как в и&#1084;ени файла в
 это&#1084; случае будет неизвестная строка). Ведь при нажатии на от&#1084;ену не нужно ничего сохранять?</span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">&quot;<em>И черный фон пересозданного изображения не знаете как за&#1084;енить на бесцветный или серый</em>&quot;</span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">Проще всего, перед рисование&#1084; полигона предварительно нарисовать пря&#1084;оугольник нужного цвета (FillRectangle), шириной и высотой
 равный раз&#1084;ера&#1084; изображения.</span><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px"></span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">&quot;<em>Да и как благодарить, что тут на сайте кликать чего как, пож-ста напишите. Я тут 2-й раз. Пока не освоился</em>&quot;.</span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">Стрелка вверх если сообщение по&#1084;огло, &quot;От&#1084;етить как ответ&quot; - если сообщение полностью решило пробле&#1084;у / содержит
 исчерпывающий ответ.</span><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px"></span></p>
</div>
<h2>Message 405</h2>
<p>Date: 01.08.2018 11:34:58</p>
<div>
<p>В ваше&#1084; коде результат вызова и SaveImg, и&nbsp;<span style="">ShowDialog</span> игнорируется. Естественно, будет вылетать. У вас пользователь &#1084;ожет нажать от&#1084;ена как в MessageBox, так и в SaveDialog, и обе ситуации надо обработать:</p>
<p><span style="font-size:medium"><span style="color:#002010">if( <span style="">
SaveImg</span></span></span><span style="font-size:medium"><span style="">() &lt;=0) return;</span><span style=""> //(я полагаю,
</span></span><span style="">ImgToFile</span> <span style="font-size:medium"><span style="">возвращает значение больше нуля?)
</span><span style=""><br/>
<br/>
if(saveFileDialog1</span><span style="">-&gt;</span><span style="">ShowDialog</span><span style="">() ==
</span></span><span style="">System</span><span style="">::</span><span style="">Windows</span><span style="">::</span><span style="">Forms</span><span style="">::</span><span style="">DialogResult</span><span style="font-size:medium"><span style="">::Cancel)
 return;</span></span></p>
<p><span style="font-size:medium"><span style="">bitmap</span><span style="">-&gt;</span><span style="">Save</span><span style="">(</span><span style="">saveFileDialog1</span><span style="">-&gt;</span><span style="">FileName</span><span style="">,</span><span style="">
</span><span style="">System</span><span style="">::</span><span style="">Drawing</span><span style="">::</span><span style="">Imaging</span><span style="">::</span><span style="">ImageFormat</span><span style="">::</span><span style="">Jpeg</span><span style="">);</span><span style=""><br/>
</span></span></p>
</div>

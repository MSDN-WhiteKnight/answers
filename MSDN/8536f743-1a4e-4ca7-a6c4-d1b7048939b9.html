<h2>Message 679</h2>
<p>Date: 14.09.2017 17:13:58</p>
<div>
<p>Какой баг? Тут как раз все логично. 123 &#43; null = 123, что вы еще ожидали.</p>
<p>Вот в этой те&#1084;е подробно объясняется, поче&#1084;у про&#1084;ежуточные значения &#1084;огут отбрасываться:
<a href="https://social.msdn.microsoft.com/Forums/ru-RU/60fa5f1f-60cd-4a73-8bcb-88cf3322327d/x-x-?forum=programminglanguageru">
https://social.msdn.microsoft.com/Forums/ru-RU/60fa5f1f-60cd-4a73-8bcb-88cf3322327d/x-x-?forum=programminglanguageru</a></p>
</div>
<h2>Message 678</h2>
<p>Date: 15.09.2017 14:48:09</p>
<div>
<p><span style="color:#333333"><span style="font-size:14px">Начать &#1084;ожно со справочника по языку. Статья&nbsp;<a href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/operators/addition-assignment-operator">&#43;= operator</a>&nbsp;довольно
 ясно дает понять, что x&#43;=y эквивалентно x=x&#43;y. Далее, в статье&nbsp;<a href="https://docs.microsoft.com/ru-ru/dotnet/csharp/programming-guide/strings/index">String&nbsp;</a>&nbsp;находи&#1084;, что строка является неиз&#1084;еняе&#1084;ой, и каждая
 операция сложения строк не &#1084;одифицирует существующую строку, а создает новую. Этих двух фактов, в обще&#1084;-то достаточно для пони&#1084;ания, поче&#1084;у поведение вашей програ&#1084;&#1084;ы ожидае&#1084;о.</span></span></p>
<p><span style="color:#333333"><span style="font-size:14px">Что касается избыточных затрат па&#1084;яти, то они, несо&#1084;ненно, и&#1084;еют &#1084;есто при сложении строк плюсо&#1084;. Чтобы их избежать, для сложения строк в&#1084;есто плюса используется
 специальный объект&nbsp;<a href="https://docs.microsoft.com/ru-ru/dotnet/api/system.text.stringbuilder?view=netframework-4.7">StringBuilder</a>, который позволяет &#1084;одифицировать строку без создания нового объекта при каждой операции.</span></span></p>
<p><code style="border:0px; font-family:inherit; margin:0px; outline:0px; padding:0px; color:#333333; font-size:14px"></code></p>
<p><code style="border:0px; font-family:inherit; margin:0px; outline:0px; padding:0px; color:#333333; font-size:14px"></code></p>
</div>
<h2>Message 677</h2>
<p>Date: 15.09.2017 16:26:50</p>
<div>
<pre class="prettyprint">            string t1 = test;//test = &quot;satrt &quot;;
            string t2 = add();
            string t3 = test;//test = &quot;satrt  -X- &quot;;            
            string t4 = add();
            
            test = String.Concat(t1, t2, t3, t4);</pre>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">&quot;<em>Откуда взялась -X-</em>&quot;</span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">&#1084;етод add добавил =)</span><br/>
</p>
<p><br/>
</p>
<p><br/>
</p>
<p></p>
</div>
<h2>Message 676</h2>
<p>Date: 15.09.2017 17:38:45</p>
<div>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">&quot;<em>достаточно выполнить одну инструкцию процессора по сложению регистров</em>&quot;</span></p>
<p>В регистры их еще надо запихать. Сложение int, на низко&#1084; уровне, - не ато&#1084;арная операция на большинстве архитектур</p>
</div>
<h2>Message 675</h2>
<p>Date: 16.09.2017 14:24:52</p>
<div>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">&quot;<em>А каков он по факту?</em>&quot;</span></p>
<p>1<br/>
12<br/>
13<br/>
(IE 11, Yandex Browser)</p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px"></span></p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px">C&#43;&#43; (gcc)</span></p>
<pre class="prettyprint">#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;stdlib.h&gt;

using namespace std;

string foo=string(&quot;1&quot;);

string goo(string&amp; s) {
    foo &#43;= s;
    cout &lt;&lt;(foo)&lt;&lt; endl;;
    return string(&quot;3&quot;);
}

int main()
{
    string two=string(&quot;2&quot;);

    cout &lt;&lt; foo&lt;&lt; endl;
    foo&#43;=goo(two);

    cout &lt;&lt; foo&lt;&lt; endl;

    system(&quot;PAUSE&quot;);
    return 0;
}</pre>
<p>Результат:</p>
1<br/>
12<br/>
123
<p><br/>
</p>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px"></span></p>
</div>
<h2>Message 670</h2>
<p>Date: 17.09.2017 18:54:04</p>
<div>
<p><em>&quot;Но если поду&#1084;ать - то я здесь не вижу ничего что &#1084;ожно было бы списать на алгорит&#1084;ы опти&#1084;изации&quot;</em></p>
<p>В че&#1084;? В поведении С&#43;&#43; (неопределенный алгорит&#1084; вычисления про&#1084;ежуточных значений) как раз виден задел под опти&#1084;изацию, поскольку он дает разработчика&#1084; ко&#1084;пиляторов больше свободы выбирать наиболее быстрый в конкретной
 ситуации. А в C# (и&nbsp;других языках CLR)&nbsp;- да, все наоборот, предсказуе&#1084;ость програ&#1084;&#1084;ы ставиться выше производительности.
</p>
</div>
<h2>Message 669</h2>
<p>Date: 17.09.2017 20:08:54</p>
<div>
<div>Под&nbsp;CLR не только сборщик &#1084;усора снижает производительность... Та&#1084; банальное обращение к индексу &#1084;ассива зани&#1084;ает дольше (из-за проверок границ). Что касается &#43;=, то я уже давал ссылку на раздел доку&#1084;ентации, который
 абсолютно четко определяет его с&#1084;ысл. Ни о како&#1084; &quot;невиди&#1084;о для разработчика&quot; говорить не приходится.</div>
</div>

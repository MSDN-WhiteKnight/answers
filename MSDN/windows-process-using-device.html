<h2>Как узнать, какой процесс использует устройство в Windows?</h2>
<p>Date: 18.11.2019 3:40:06</p>
<div>
<p>Это вопрос с подвохо&#1084;... Для <strong>файлов</strong> существует вполне поддерживае&#1084;ый способ с по&#1084;ощью Restart Manager API:&nbsp;<a href="https://code.msdn.microsoft.com/windowsapps/How-to-know-the-process-704839f4"></a><a href="https://ru.stackoverflow.com/a/727180/240512">https://ru.stackoverflow.com/a/727180/240512</a>
 - но это и&#1084;енно для полноценных файлов. Устройства же в Windows, в отличие от Unix напри&#1084;ер, не являются полноценны&#1084;и файла&#1084;и в виртуальной файловой систе&#1084;е. Есть конечно пути в пространстве и&#1084;ен Win32 Devices/NT Devices
 (в ваше&#1084; случае второе), которые &#1084;ожно передать в функцию CreateFile и получить дескриптор, но эти&#1084; сходство и ограничивается.
</p>
<p>Таки&#1084; образо&#1084;, вопрос сводится к то&#1084;у, как узнать, какой процесс открыл определенный дескриптор. Тут ответ, види&#1084;о, следует искать в использовании недоку&#1084;ентированных функций вроде&nbsp;NtQuerySystemInformation (<a href="https://www.codeproject.com/Articles/18975/Listing-Used-Files">https://www.codeproject.com/Articles/18975/Listing-Used-Files</a>)</p>
<br/>
</div>

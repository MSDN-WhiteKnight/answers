<h2>Message 180</h2>
<p>Date: 07.11.2019 18:32:01</p>
<div>
<p><span style="color:#333333; font-family:'Segoe UI','Lucida Grande',Verdana,Arial,Helvetica,sans-serif; font-size:14px"><em>&gt;Поче&#1084;у в функцию DeleteFile надо передавать строку, а не указатель на неё?</em></span></p>
<p>Этот вопрос не и&#1084;еет с&#1084;ысла, так как основан на ложных предположениях.</p>
<p>Начать с того, что DeleteFile - это не функция, а &#1084;акрос Windows SDK, который &#1084;ожет разворачиваться в две разные функции:&nbsp;<a href="https://docs.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-deletefilea">DeleteFileA</a> или&nbsp;<a href="https://docs.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-deletefilew">DeleteFileW</a>.
 Первая прини&#1084;ает указатель на &#1084;ассив char, вторая - на &#1084;ассив wchar_t. Никакого противопоставления &#1084;ежду передачей строки или указателя на строку не &#1084;ожет быть, пото&#1084;у что в С, на систе&#1084;е типов которого основан WinAPI,
 просто нет понятия строки, передающейся по значению. В С строка - это &#1084;ассив си&#1084;волов, а &#1084;ассивы передаются в функции только как указатели. Когда вы используете высокоуровневую директиву Invoke (види&#1084;о, MASM?), все внешне выглядит как
 передача по значению. Но попробуйте дизассе&#1084;блировать полученный код до эле&#1084;ентарных инструкций, и вы увидите, что на са&#1084;о&#1084; деле передается указатель.&nbsp;</p>
<p></p>
</div>
